<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>21点</title>
	<style type="text/css">
		h1{color:gold;}
	</style>
</head>
<body>
	
	你包包里的小钱钱： <h2 id="h2" style="color:red;">10000</h2>	
	<h1 style="text-align:center;"> ————————————二十一点————————————</h1>
	庄家： <b id="b1"></b><br>
	买家： <b id="b2"></b><br>
	输入你的这次的赌注：<input tpye="text" id="text1" value="100"/> <br><br>
	<button id="btn1">发牌</button>
	<button id="btn2">要牌</button>
	<button id="btn3">询问庄家是否要牌</button>
	<h1 style="text-align:center;"> ———————————— `————————————</h1>
	<script type="text/javascript">
		var _total,
			b1,
			b2,
			_b1 = document.getElementById("b1"),
			_b2 = document.getElementById("b2"),
			_total,
			_t2;
			
		document.getElementById("btn1").onclick = function(){
			_total = parseInt(document.getElementById("h2").innerHTML);
			_t2 = parseInt(document.getElementById("text1").value); 
			if (_t2 <= _total){
						console.log(_total);
					b1 = Math.floor(Math.random()*13+1) ;
					b2 = Math.floor(Math.random()*13+1) ;
					_b1.innerHTML = b1 + ","; 
					_b2.innerHTML = b2 + ","; 
					
					
					document.getElementById("h2").innerHTML = _total - _t2;
					_total -= _t2;
					document.getElementById("btn2").disabled = false ;
					document.getElementById("btn3").disabled = false ;
					console.log(_total);
				} else{
					alert("回家赚钱再来吧");
				}
			}
			
		
		document.getElementById("btn2").onclick = function(){
			b2 += Math.floor(Math.random()*13+1);
			if (b2 >21) {
				alert("你输了！");
				document.getElementById("btn2").disabled = true ;
				document.getElementById("btn3").disabled = true ;
				_b2.innerHTML += b2 + ",";
			} else  if(b2<= 21){
				_b2.innerHTML += b2 + ",";
				// console.log(b2);
			} 
			console.log(_total);
		}

		document.getElementById("btn3").onclick = function(){
			if(b1 > 18 ){
				_b1.innerHTML += "不要了";
				if( b1 < b2 ){
					_b1.innerHTML += "You Win";
					document.getElementById("h2").innerHTML = _total + _t2 * 2;
				} else if(b1 >= b2){
					_b1.innerHTML += "You lose";
				}

			} else if (b1<= 18 ) {
				b1 += Math.floor(Math.random()*13+1);
				if (b1 >21) {
					alert("You Win！");
					document.getElementById("h2").innerHTML = _total + _t2 * 2;
					document.getElementById("btn2").disabled = true ;
					document.getElementById("btn3").disabled = true ;
					_b1.innerHTML += b1 + ",";
				} else  if(b1<= 21){
					_b1.innerHTML += b1 + ",";
					// console.log(b1);

			}
			console.log(_total);
		}
	}

	</script>
</body>
</html>